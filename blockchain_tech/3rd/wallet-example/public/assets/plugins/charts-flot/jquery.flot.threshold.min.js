!function(o){function s(s){function t(s,t,n,l,h){var r,e,i,p,u,a=n.pointsize,f=o.extend({},t);f.datapoints={points:[],pointsize:a,format:n.format},f.label=null,f.color=h,f.threshold=null,f.originSeries=t,f.data=[];var d,c=n.points,g=t.lines.show,v=[],b=[];for(r=0;r<c.length;r+=a){if(e=c[r],i=c[r+1],u=p,p=l>i?v:b,g&&u!=p&&null!=e&&r>0&&null!=c[r-a]){var w=e+(l-i)*(e-c[r-a])/(i-c[r-a+1]);for(u.push(w),u.push(l),d=2;a>d;++d)u.push(c[r+d]);for(p.push(null),p.push(null),d=2;a>d;++d)p.push(c[r+d]);for(p.push(w),p.push(l),d=2;a>d;++d)p.push(c[r+d])}for(p.push(e),p.push(i),d=2;a>d;++d)p.push(c[r+d])}if(n.points=b,f.datapoints.points=v,f.datapoints.points.length>0){var m=o.inArray(t,s.getData());s.getData().splice(m+1,0,f)}}function n(s,n,l){n.threshold&&(n.threshold instanceof Array?(n.threshold.sort(function(o,s){return o.below-s.below}),o(n.threshold).each(function(o,h){t(s,n,l,h.below,h.color)})):t(s,n,l,n.threshold.below,n.threshold.color))}s.hooks.processDatapoints.push(n)}var t={series:{threshold:null}};o.plot.plugins.push({init:s,options:t,name:"threshold",version:"1.2"})}(jQuery);