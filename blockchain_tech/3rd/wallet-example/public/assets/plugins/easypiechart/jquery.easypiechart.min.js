/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.0.1
 **/
!function(e){var t=function(e,t){var n=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(n);var i=n.getContext("2d");if(n.width=n.height=t.size,e.appendChild(n),window.devicePixelRatio>1){var a=window.devicePixelRatio;n.style.width=n.style.height=[t.size,"px"].join(""),n.width=n.height=t.size*a,i.scale(a,a)}i.translate(t.size/2,t.size/2),i.rotate((-0.5+t.rotate/180)*Math.PI);var r=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(r-=t.scaleLength+2);var o=function(e,t,n){n=Math.min(Math.max(0,n||1),1),i.beginPath(),i.arc(0,0,r,0,2*Math.PI*n,!1),i.strokeStyle=e,i.lineWidth=t,i.stroke()},s=function(){var e,n,a=24;i.lineWidth=1,i.fillStyle=t.scaleColor,i.save();for(var a=24;a>=0;--a)0===a%6?(n=t.scaleLength,e=0):(n=.6*t.scaleLength,e=t.scaleLength-n),i.fillRect(-t.size/2+e,0,n,1),i.rotate(Math.PI/12);i.restore()};Date.now=Date.now||function(){return+new Date};var h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){this.clear(),t.scaleColor&&s(),t.trackColor&&o(t.trackColor,t.lineWidth),i.lineCap=t.lineCap;var n;n="function"==typeof t.barColor?t.barColor(e):t.barColor,e>0&&o(n,t.lineWidth,e/100)}.bind(this),this.animate=function(e,n){var i=Date.now();t.onStart(e,n);var a=function(){var r=Math.min(Date.now()-i,t.animate),o=t.easing(this,r,e,n-e,t.animate);this.draw(o),t.onStep(e,n,o),r>=t.animate?t.onStop(e,n):h(a)}.bind(this);h(a)}.bind(this)},n=function(e,n){var i,a={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,renderer:t,easing:function(e,t,n,i,a){return(t/=a/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},onStart:function(){},onStep:function(){},onStop:function(){}},r={},o=0,s=function(){this.el=e,this.options=r;for(var t in a)a.hasOwnProperty(t)&&(r[t]=n&&"undefined"!=typeof n[t]?n[t]:a[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));r.easing="string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?jQuery.easing[r.easing]:a.easing,i=new r.renderer(e,r),i.draw(o),e.dataset&&e.dataset.percent&&this.update(parseInt(e.dataset.percent,10))}.bind(this);this.update=function(e){return e=parseInt(e,10),r.animate?i.animate(o,e):i.draw(e),o=e,this}.bind(this),s()};e.fn.easyPieChart=function(t){return this.each(function(){e.data(this,"easyPieChart")||e.data(this,"easyPieChart",new n(this,t))})}}(jQuery);