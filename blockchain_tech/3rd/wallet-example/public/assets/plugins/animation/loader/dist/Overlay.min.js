
var Overlay={current_id:null,visible:false,xhr:null,show:function(b,a,e){if(b==undefined){throw"Required parameter '_id' not specified."}if(!Overlay.visible){Overlay.visible=true}Overlay.current_id=b;overlayElm='[data-overlay="'+b.trim("_")+'"]';var c=overlayElm+" button[data-overlay-btn]";var d=overlayElm+" span[data-overlay-msg]";$(overlayElm).fadeIn(500);$(overlayElm).data("xhr",e||null);Overlay.xhr=$(overlayElm).data("xhr");if($(overlayElm).data("xhr")){$(c).show().on("click",function(){Overlay.hide(b)})}$(d).text(a||"Processing your request")},hide:function(b,a){if(!Overlay.visible){return}overlayElm='[data-overlay="'+b.trim("_")+'"]';a=a||true;var c=overlayElm+" button[data-overlay-btn]";$(overlayElm).fadeOut(300);if(a===true&&Overlay.xhr&&Overlay.xhr.readystate!=4){Overlay.xhr.abort()}$(c).off("click").hide();Overlay.xhr=null;Overlay.visible=false}};$(document).ready(function(){$("[data-overlay]").hide();$("button[data-overlay-btn]").hide()}).keyup(function(a){if(Overlay.visible&&a.keyCode==27&&Overlay.xhr){Overlay.hide("overlay")}});